<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    

    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-startup-image" href="assets/brand/icon-512.png">

<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>â²˜ğ”¬â²ƒÂ¡â³ğ”­â²ğ” â²‰ | è«æ¯”ç©ºé–“ - è³‡æºæ•´åˆèˆ‡æ•¸ä½æœå‹™å…¥å£ç¶²</title>
    <meta name="description" content="â²˜ğ”¬â²ƒÂ¡â³ğ”­â²ğ” â²‰ (è«æ¯”ç©ºé–“) æä¾›ä¸€ç«™å¼æ•¸ä½è³‡æºæ•´åˆå…¥å£ï¼ŒåŒ…å«è«æ¯”éƒ¨è½æ ¼ã€å·¥å…·åº«ã€éŸ³æ¨‚é »é“åŠè¨˜äº‹ç·¨è¼¯å™¨ï¼Œç‚ºæ‚¨æ‰“é€ æ¥µç°¡é«˜æ•ˆçš„å°èˆªé«”é©—ã€‚">
    <meta name="keywords" content="è«æ¯”ç©ºé–“, â²˜ğ”¬â²ƒÂ¡â³ğ”­â²ğ” â²‰, Mobispace, å·¥å…·åº«, è³‡æºæ•´åˆ, ç¶²èªŒ, PWA, æ•¸ä½å°èˆª">
    <meta name="author" content="MobiSpace">

    <meta property="og:title" content="â²˜ğ”¬â²ƒÂ¡â³ğ”­â²ğ” â²‰ | è«æ¯”ç©ºé–“ - è³‡æºæ•´åˆå°èˆª">
    <meta property="og:description" content="æ•´åˆç¶²èªŒã€å·¥å…·åº«èˆ‡å¤šåª’é«”æœå‹™çš„æ•¸ä½ç©ºé–“ï¼Œç«‹å³é«”é©— App æ„Ÿåè¶³çš„å…¥å£ã€‚">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://mobsp.github.io/">
    <meta property="og:image" content="https://mobsp.github.io/assets/brand/og-image.jpg">

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "MobiSpace",
      "alternateName": "è«æ¯”ç©ºé–“",
      "url": "https://mobsp.github.io/",
      "description": "æä¾›éƒ¨è½æ ¼ã€å·¥å…·åº«èˆ‡å¤šåª’é«”æœå‹™çš„æ•´åˆå°èˆªå…¥å£"
    }
    </script>

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0b0b0c">

    <style>
        :root {
            --bg-color: #0b0b0c;          
            --card-bg: rgba(25, 27, 31, 0.95); 
            --text-main: #f1f2f6;         
            --primary-color: #00cec9;     
            --border-color: rgba(255, 255, 255, 0.1); 
            --transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        }

        /* ä½ˆå±€é‡ç½® */
        html, body {
            width: 100%; height: 100dvh; overflow: hidden;
            position: fixed; margin: 0; padding: 0;
            background-color: var(--bg-color); color: var(--text-main);
            font-family: 'PingFang TC', system-ui, -apple-system, sans-serif;
            /* é˜²æ­¢é›™æ“Šç¸®æ”¾ä½†ä¿ç•™ SEO å‹å–„åº¦ */
            touch-action: manipulation;
        }

        /* SEO éš±è—æ¨™é¡ŒæŠ€å·§ */
        .visually-hidden {
            position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;
            overflow: hidden; clip: rect(0,0,0,0); border: 0;
        }

        .page-wrapper { display: flex; flex-direction: column; height: 100dvh; max-width: 500px; margin: 0 auto; }

        /* å›ºå®šé é¦– Header */
        .app-header {
            flex-shrink: 0; padding: calc(20px + env(safe-area-inset-top)) 20px 15px;
            background: rgba(11, 11, 12, 0.9); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            border-bottom: 1px solid var(--border-color); z-index: 100;
        }

        .marquee-row {
            display: flex; align-items: center; background: rgba(0,0,0,0.4);
            padding: 5px 10px; border-radius: 8px; margin-bottom: 10px; overflow: hidden;
        }

        .v-tag { background: var(--primary-color); color: #000; font-size: 10px; font-weight: 900; padding: 2px 5px; border-radius: 4px; margin-right: 8px; white-space: nowrap; transition: 0.3s; }
        .tag-important { background: #ff7675 !important; color: white; }
        .tag-update { background: #55efc4 !important; color: #000; }

        .mq-box { flex: 1; overflow: hidden; white-space: nowrap; }
        .mq-text { display: inline-block; animation: mq 15s linear infinite; font-size: 11px; opacity: 0.8; }
        @keyframes mq { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        /* å…§å®¹å€ï¼šå·¦å³æ»‘å‹•å¡ç‰‡ */
        .app-main {
            flex: 1; display: flex; align-items: center; overflow-x: auto;
            scroll-snap-type: x mandatory; padding: 0 30px; gap: 20px; scrollbar-width: none;
        }
        .app-main::-webkit-scrollbar { display: none; }

        .action-btn {
            flex: 0 0 85%; height: 75%; scroll-snap-align: center; text-decoration: none;
            border-radius: 35px; position: relative; overflow: hidden; border: 1px solid var(--border-color);
            background: #1e272e url('https://mobsp.github.io/assets/brand/cherry-blossom.jpg') center/cover;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4); transition: var(--transition);
        }
        .action-btn:active { transform: scale(0.96); }

        .btn-overlay { position: absolute; bottom: 0; width: 100%; padding: 40px 25px 30px; background: linear-gradient(transparent, rgba(0,0,0,0.9)); }
        .btn-title { color: #fff; font-size: 1.8rem; font-weight: 800; letter-spacing: 2px; }

        /* å›ºå®šé å°¾ Footer */
        .app-footer {
            flex-shrink: 0; padding: 15px 20px calc(15px + env(safe-area-inset-bottom));
            background: rgba(11, 11, 12, 0.9); border-top: 1px solid var(--border-color); text-align: center;
        }
        .copyright { font-size: 10px; opacity: 0.3; line-height: 1.6; }
    </style>
</head>

<body>
<div class="page-wrapper">
    <header class="app-header">
        <h1 class="visually-hidden">â²˜ğ”¬â²ƒÂ¡â³ğ”­â²ğ” â²‰ è«æ¯”ç©ºé–“ - è³‡æºæ•´åˆèˆ‡æ•¸ä½å°èˆªå…¥å£</h1>
        
        <nav class="marquee-row">
            <span class="v-tag" id="v-tag">LOADING</span>
            <div class="mq-box">
                <div class="mq-text" id="mq-text" role="status">æ­£åœ¨åŒæ­¥ â²˜ğ”¬â²ƒÂ¡â³ğ”­â²ğ” â²‰ é›²ç«¯å…¬å‘Šç³»çµ±...</div>
            </div>
        </nav>
        <div style="font-size: 1.3rem; font-weight: bold; text-align: center; letter-spacing: 3px;" aria-hidden="true">â²˜ğ”¬â²ƒÂ¡â³ğ”­â²ğ” â²‰</div>
    </header>

    <main class="app-main" role="main">
        <h2 class="visually-hidden">æ•¸ä½æœå‹™å…¥å£æ¸…å–®</h2>
        
        <a href="./blog/" class="action-btn" aria-label="å‰å¾€è«æ¯”éƒ¨è½æ ¼">
            <div class="btn-overlay"><div class="btn-title">éƒ¨è½æ ¼</div></div>
        </a>
        <a href="./tol/" class="action-btn" aria-label="å‰å¾€å·¥å…·åº«">
            <div class="btn-overlay"><div class="btn-title">å·¥å…·åº«</div></div>
        </a>
        <a href="./p/#Music" class="action-btn" aria-label="é€²å…¥éŸ³æ¨‚é »é“">
            <div class="btn-overlay"><div class="btn-title">éŸ³æ¨‚é »é“</div></div>
        </a>
        <a href="./p/#Shorts" class="action-btn" aria-label="ç€è¦½çŸ­å½±éŸ³">
            <div class="btn-overlay"><div class="btn-title">çŸ­å½±éŸ³</div></div>
        </a>
        <a href="./p/#wiki" class="action-btn" aria-label="æŸ¥é–±æ”¯æ´ä¸­å¿ƒ">
            <div class="btn-overlay"><div class="btn-title">æ”¯æ´ä¸­å¿ƒ</div></div>
        </a>
    </main>

    <footer class="app-footer" role="contentinfo">
        <div class="copyright">
            &copy; 2024â€“2026 <strong>â²˜ğ”¬â²ƒÂ¡â³ğ”­â²ğ” â²‰</strong> â’¸ All Rights Reserved.<br>
            æ‚¨çš„æ•¸ä½è³‡æºå°èˆªå…¥å£
        </div>
    </footer>
</div>

<script>
/**
 * â²˜ğ”¬â²ƒÂ¡â³ğ”­â²ğ” â²‰ è‡ªå‹•å…¬å‘Šèˆ‡ç‰ˆæœ¬åµæ¸¬ç³»çµ±
 */
const MD_URL = 'https://raw.githubusercontent.com/mobsp/mobsp.github.io/main/data/notice.md';

async function initNoticeSystem() {
    const vTag = document.getElementById('v-tag');
    const mqText = document.getElementById('mq-text');

    try {
        const response = await fetch(MD_URL, { cache: 'no-cache' });
        if (!response.ok) throw new Error('Network response was not ok');
        
        const raw = await response.text();
        const lines = raw.split('\n').map(l => l.trim()).filter(l => l.length > 0);

        // 1. ç‰ˆæœ¬åµæ¸¬é‚è¼¯
        let baseVer = lines[0].startsWith('#') ? lines[0].replace('#', '') : "v1.0";
        let contentHash = lines.slice(1).join(''); // ç”¨å…§å®¹åˆ¤æ–·æ˜¯å¦è®Šå‹•
        
        let savedContent = localStorage.getItem('mob_last_content');
        let currentVer = localStorage.getItem('mob_curr_ver') || baseVer;

        if (savedContent && savedContent !== contentHash) {
            // å…§å®¹æœ‰è®Šä¸”ä¸æ˜¯å¼·åˆ¶å¤§ç‰ˆæœ¬æ›´æ–°ï¼Œå‰‡è‡ªå‹• +0.1
            if (currentVer.startsWith(baseVer.split('.')[0])) {
                let verNum = parseFloat(currentVer.replace('v', ''));
                currentVer = 'v' + (verNum + 0.1).toFixed(1);
            } else {
                currentVer = baseVer;
            }
        } else if (!savedContent || !currentVer.startsWith(baseVer.split('.')[0])) {
            currentVer = baseVer;
        }
        
        localStorage.setItem('mob_last_content', contentHash);
        localStorage.setItem('mob_curr_ver', currentVer);

        // 2. éš¨æ©Ÿé¸å–å…¬å‘Šèˆ‡åˆ†é¡è§£æ
        const quotes = lines.slice(1);
        const randomItem = quotes[Math.floor(Math.random() * quotes.length)];
        
        let category = "NEWS";
        let displayMsg = randomItem;
        const catMatch = randomItem.match(/\[(.*?)\]/);
        
        if (catMatch) {
            category = catMatch[1];
            displayMsg = randomItem.replace(catMatch[0], '').trim();
            // åˆ‡æ›é¡è‰²
            vTag.classList.remove('tag-important', 'tag-update');
            if (category.includes('é‡è¦')) vTag.classList.add('tag-important');
            else if (category.includes('æ›´æ–°')) vTag.classList.add('tag-update');
        }

        vTag.innerText = `${currentVer} | ${category}`;
        mqText.innerText = displayMsg;

    } catch (err) {
        console.warn("Notice System Fallback Active.");
        vTag.innerText = "v1.0 | INFO";
        mqText.innerText = "æ­¡è¿ä¾†åˆ° â²˜ğ”¬â²ƒÂ¡â³ğ”­â²ğ” â²‰ è³‡æºæ•´åˆç©ºé–“ã€‚";
    }
}

document.addEventListener('DOMContentLoaded', initNoticeSystem);
</script>
</body>
</html>
